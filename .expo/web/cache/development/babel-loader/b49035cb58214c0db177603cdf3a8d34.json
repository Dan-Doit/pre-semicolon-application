{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\zmffh\\\\OneDrive\\\\Desktop\\\\Nomad\\\\semicolon-application\\\\AuthContext.js\";\n\nimport React, { createContext, useContext, useState } from \"react\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children,\n      isLoggedInProp = _ref.isLoggedIn;\n\n  var _useState = useState(isLoggedInProp),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoggedIn = _useState2[0],\n      setIsLoggedIn = _useState2[1];\n\n  var logUserIn = function logUserIn(token) {\n    return _regeneratorRuntime.async(function logUserIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"isLoggedIn\", \"true\"));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"jwt\", token));\n\n          case 5:\n            setIsLoggedIn(true);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var logUserOut = function logUserOut() {\n    return _regeneratorRuntime.async(function logUserOut$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"jwt\"));\n\n          case 3:\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"isLoggedIn\", \"false\"));\n\n          case 5:\n            setIsLoggedIn(false);\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  return React.createElement(AuthContext.Provider, {\n    value: {\n      isLoggedIn: isLoggedIn,\n      logUserIn: logUserIn,\n      logUserOut: logUserOut\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, children);\n};\nexport var useIsLoggedIn = function useIsLoggedIn() {\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn;\n\n  return isLoggedIn;\n};\nexport var useLogIn = function useLogIn() {\n  var _useContext2 = useContext(AuthContext),\n      logUserIn = _useContext2.logUserIn;\n\n  return logUserIn;\n};\nexport var useLogOut = function useLogOut() {\n  var _useContext3 = useContext(AuthContext),\n      logUserOut = _useContext3.logUserOut;\n\n  return logUserOut;\n};","map":{"version":3,"sources":["C:/Users/zmffh/OneDrive/Desktop/Nomad/semicolon-application/AuthContext.js"],"names":["React","createContext","useContext","useState","AsyncStorage","AuthContext","AuthProvider","children","isLoggedInProp","isLoggedIn","setIsLoggedIn","logUserIn","token","setItem","console","log","logUserOut","removeItem","useIsLoggedIn","useLogIn","useLogOut"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,QAA2D,OAA3D;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AAEA,OAAO,IAAMC,WAAW,GAAGJ,aAAa,EAAjC;AAEP,OAAO,IAAMK,YAAY,GAAG,SAAfA,YAAe,OAA6C;AAAA,MAA1CC,QAA0C,QAA1CA,QAA0C;AAAA,MAArBC,cAAqB,QAAhCC,UAAgC;;AAAA,kBACjCN,QAAQ,CAACK,cAAD,CADyB;AAAA;AAAA,MAC9DC,UAD8D;AAAA,MAClDC,aADkD;;AAGrE,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEJR,YAAY,CAACS,OAAb,CAAqB,YAArB,EAAmC,MAAnC,CAFI;;AAAA;AAAA;AAAA,6CAGJT,YAAY,CAACS,OAAb,CAAqB,KAArB,EAA4BD,KAA5B,CAHI;;AAAA;AAIVF,YAAAA,aAAa,CAAC,IAAD,CAAb;AAJU;AAAA;;AAAA;AAAA;AAAA;AAMVI,YAAAA,OAAO,CAACC,GAAR;;AANU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AASA,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAELZ,YAAY,CAACa,UAAb,CAAwB,KAAxB,CAFK;;AAAA;AAAA;AAAA,6CAGLb,YAAY,CAACS,OAAb,CAAqB,YAArB,EAAmC,OAAnC,CAHK;;AAAA;AAIXH,YAAAA,aAAa,CAAC,KAAD,CAAb;AAJW;AAAA;;AAAA;AAAA;AAAA;AAMXI,YAAAA,OAAO,CAACC,GAAR;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AASA,SAAQ,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEN,MAAAA,UAAU,EAAVA,UAAF;AAAcE,MAAAA,SAAS,EAATA,SAAd;AAAyBK,MAAAA,UAAU,EAAVA;AAAzB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqET,QAArE,CAAR;AACH,CAtBM;AAwBP,OAAO,IAAMW,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA,oBACRhB,UAAU,CAACG,WAAD,CADF;AAAA,MACvBI,UADuB,eACvBA,UADuB;;AAE/B,SAAOA,UAAP;AACH,CAHM;AAKP,OAAO,IAAMU,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,qBACJjB,UAAU,CAACG,WAAD,CADN;AAAA,MAClBM,SADkB,gBAClBA,SADkB;;AAE1B,SAAOA,SAAP;AACH,CAHM;AAKP,OAAO,IAAMS,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,qBACJlB,UAAU,CAACG,WAAD,CADN;AAAA,MACnBW,UADmB,gBACnBA,UADmB;;AAE3B,SAAOA,UAAP;AACH,CAHM","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children, isLoggedIn:isLoggedInProp }) => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(isLoggedInProp);\r\n\r\n    const logUserIn = async token => {\r\n        try {\r\n            await AsyncStorage.setItem(\"isLoggedIn\", \"true\")\r\n            await AsyncStorage.setItem(\"jwt\", token);\r\n            setIsLoggedIn(true)\r\n        } catch (e) {\r\n            console.log(e) \r\n        }\r\n    }\r\n    const logUserOut = async () => {\r\n        try {\r\n            await AsyncStorage.removeItem(\"jwt\");\r\n            await AsyncStorage.setItem(\"isLoggedIn\", \"false\")\r\n            setIsLoggedIn(false)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    return (<AuthContext.Provider value={{ isLoggedIn, logUserIn, logUserOut }}>{children}</AuthContext.Provider>);\r\n};\r\n\r\nexport const useIsLoggedIn = () => {\r\n    const { isLoggedIn } = useContext(AuthContext);\r\n    return isLoggedIn;\r\n};\r\n\r\nexport const useLogIn = () => {\r\n    const { logUserIn } = useContext(AuthContext);\r\n    return logUserIn;\r\n}\r\n\r\nexport const useLogOut = () => {\r\n    const { logUserOut } = useContext(AuthContext);\r\n    return logUserOut;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}